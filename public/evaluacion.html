<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cotizador Nikola</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200&display=swap">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDhfDlA63Ebfu8RPmPYFFsbewsuIoemYSo&libraries=places"></script>
    </head>
    
    <body class="body">
    
        <header class="d-flex justify-content-between poppins align-items-center pt-2 pb-2 pl-xl pr-xl bg-secondary text-white">
            <img class="header-img" src="assets/imgs/Nikola-light-v2-300x201.webp" alt="">
            <p class="d-flex fs-3 pl-xl" >Cotizador de proyectos solares</p>
        </header>

<main class="main">
<div class="container">

    <div class="mb-2 col-12 d-flex flex-column align-items-center text-black poppins fs-2">
        <p class="fs-4 mt-5 mb-3">Gracias por cotizar con nosotros</p>
        <p class="fs-5 mb-5">Revisa la proyección de tus ahorros:</p>
        
        <div id="calculadora-resultados" class="col-md-12 col-12 d-flex flex-column align-items-center justify-content-center  text-black poppins">
            <table class="d-flex align-items-center justify-content-center table table-hover">                
                <tr>
                    <td>Tamaño de planta solar a tu medida</td>
                    <td>kWp</td>
                    <td id="tamanoplanta"></td>
                </tr>
                <tr>
                    <td>Cantidad de paneles solares</td>
                    <td>u.</td>
                    <td id="cantidadpaneles"></td>               
                </tr>
                <tr>
                    <td>Ahorro estimado anual</td>
                    <td>$</td>
                    <td id="ahorroestimadoanual"></td>                
                </tr>
                <tr>
                    <td>Costo total del proyecto</td>
                    <td>$</td>
                    <td id="costoproyecto"></td>               
                </tr>
                
                <!-- Agrega más filas según sea necesario  -->
            </table>        
        </div>
        
        <div class="mb-2 col-12 d-flex flex-column align-items-center text-black poppins fs-2">
            <p class="fs-5 mt-5 m-10">Nos pondremos en contacto contigo para entregarte más detalles y conversar sobre tu proyecto </p>
        </div>

        <div> 
            <button type="button" class="mt-5 btn btn-outline-warning fs-4" id="BotonCotizar" onclick="AbrirIndex()">Volver atrás</button>
        </div>
    </div>
</div>

</main>



<footer class="footer poppins text-center mt-4 p-4 bg-secondary text-white">
    David Bravo Cisterna - Contacto mediante LinkedIn <a class="text-warning" href="https://www.linkedin.com/in/bravocisterna/">@dbcisterna</a>
</footer>


<!-- Inicio de los script -->

<!-- BOTON VOLVER ATRAS-->

<script>
    function AbrirIndex() {
      // Redirige a index.html cuando se hace clic en el botón
      window.location.href = 'index.html'
    }

</script>

<script>
// Obtén los parámetros de la URL
const urlParams = new URLSearchParams(window.location.search);
// Obtiene el valor del parámetro "ahorro"
const ahorroestimadoanual = urlParams.get("ahorroestimadoanual");
const tamanoplanta = urlParams.get("tamanoplanta");
const costoproyecto = urlParams.get("costoproyecto");
const cantidadpaneles = urlParams.get("cantidadpaneles");

// Función para formatear números con puntos como separadores de miles
function formatearNumeroConPuntos(numero) {
            return parseFloat(numero).toLocaleString('es-CL', { useGrouping: true });
        }

// Asigna estos valores formateados a los elementos HTML en tu página

if (!isNaN(tamanoplanta)) {
    document.getElementById("tamanoplanta").textContent = formatearNumeroConPuntos(tamanoplanta);
} else {
    document.getElementById("tamanoplanta").textContent = "Por favor, reingresa tu gasto de luz mensual";
}

if (!isNaN(ahorroestimadoanual)) {
    document.getElementById("ahorroestimadoanual").textContent = formatearNumeroConPuntos(ahorroestimadoanual);
} else {
    document.getElementById("ahorroestimadoanual").textContent = "Por favor, reingresa tu gasto de luz mensual";
}

if (!isNaN(costoproyecto)) {
    document.getElementById("costoproyecto").textContent = formatearNumeroConPuntos(costoproyecto);
} else {
    document.getElementById("costoproyecto").textContent = "Por favor, reingresa tu gasto de luz mensual";
}

if (!isNaN(cantidadpaneles)) {
    document.getElementById("cantidadpaneles").textContent = formatearNumeroConPuntos(cantidadpaneles);
} else {
    document.getElementById("cantidadpaneles").textContent = "Por favor, reingresa tu gasto de luz mensual";
}

</script>


</body>
